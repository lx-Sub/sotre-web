(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b8b0787a"],{"9e9e":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return n})),a.d(e,"c",(function(){return l})),a.d(e,"g",(function(){return s})),a.d(e,"f",(function(){return c})),a.d(e,"e",(function(){return d})),a.d(e,"h",(function(){return m})),a.d(e,"d",(function(){return h}));var r=a("b775");const o="/docs",i=t=>Object(r["a"])({url:o+"/"+t,method:"delete"}),n=t=>Object(r["a"])({url:o+"/batch/"+t,method:"delete"}),l=t=>Object(r["a"])({url:o,method:"put",data:t}),s=t=>Object(r["a"])({url:o,method:"get",params:t}),c=()=>"http://localhost:9271"+o+"/import",d=()=>"http://localhost:9271"+o+"/export",m=()=>"http://localhost:9271"+o+"/upload",h=()=>"http://localhost:9271"+o+"/download/"},eb78:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"manage"},[e("el-dialog",{attrs:{title:"编辑",visible:t.editForm.isShow},on:{"update:visible":function(e){return t.$set(t.editForm,"isShow",e)}}},[e("el-form",{attrs:{"label-width":"100px",model:t.editForm.formData}},[e("el-form-item",{staticStyle:{width:"450px"},attrs:{label:"备注","label-width":"140px",prop:"remark"}},[e("el-input",{attrs:{type:"textarea",placeholder:"请输入",autosize:{minRows:2,maxRows:4},maxlength:"100","show-word-limit":""},model:{value:t.editForm.formData.remark,callback:function(e){t.$set(t.editForm.formData,"remark","string"===typeof e?e.trim():e)},expression:"editForm.formData.remark"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.editForm.isShow=!1}}},[t._v(" 取消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.confirmEdit}},[t._v(" 确定")])],1)],1),e("div",{staticStyle:{"margin-bottom":"10px"}},[e("el-upload",{staticStyle:{display:"inline-block"},attrs:{action:t.importApi,headers:t.headers,accept:"xlsx","show-file-list":!1,multiple:!1,"on-success":t.handleImportSuccess}},[e("el-button",{attrs:{type:"success"}},[t._v(" 导入 ")])],1),e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"warning"},on:{click:t.exportData}},[t._v(" 导出 ")]),e("el-upload",{staticStyle:{display:"inline-block","margin-left":"10px"},attrs:{action:t.uploadApi,headers:t.headers,accept:"*/*",multiple:!1,"show-file-list":!1,"on-success":t.handleUploadSuccess,limit:1}},[e("el-button",{attrs:{type:"primary"}},[t._v(" 上传 ")])],1),e("el-popconfirm",{staticStyle:{"margin-left":"10px"},attrs:{"confirm-button-text":"确定","cancel-button-text":"我再想想",title:"你确定删除吗？"},on:{confirm:t.handleDeleteBatch}},[e("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[t._v(" 批量删除 ")])],1),e("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.search}},[t._v(" 搜索")]),e("el-button",{attrs:{type:"danger"},on:{click:t.reset}},[t._v(" 重置")])],1),e("div",{staticClass:"manage-header"},[e("el-form",{attrs:{"label-width":"auto",model:t.searchForm.formData,inline:!0}},[e("el-form-item",{attrs:{label:"原名称",prop:"oldName"}},[e("el-input",{attrs:{placeholder:"请输入文件原名称","prefix-icon":"el-icon-search"},model:{value:t.searchForm.formData.oldName,callback:function(e){t.$set(t.searchForm.formData,"oldName","string"===typeof e?e.trim():e)},expression:"searchForm.formData.oldName"}})],1),e("el-form-item",{attrs:{label:"上传者",prop:"staffName"}},[e("el-input",{attrs:{placeholder:"请输入上传者","prefix-icon":"el-icon-search"},model:{value:t.searchForm.formData.staffName,callback:function(e){t.$set(t.searchForm.formData,"staffName","string"===typeof e?e.trim():e)},expression:"searchForm.formData.staffName"}})],1)],1)],1),e("div",{staticClass:"common-table"},[e("el-table",{attrs:{data:t.table.tableData,height:"85%",border:"",stripe:"","row-key":"id",fit:"","header-cell-style":{background:"#eef1f6",color:"#606266",textAlign:"center",fontWeight:"bold",borderWidth:"3px"}},on:{"selection-change":t.handleSelectionChange}},[e("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),e("el-table-column",{attrs:{prop:"name",label:"文件名","min-width":"180",align:"center"}}),e("el-table-column",{attrs:{prop:"type",label:"类型","min-width":"125",align:"center"}}),e("el-table-column",{attrs:{prop:"oldName",label:"文件原名称","min-width":"150",align:"center"}}),e("el-table-column",{attrs:{prop:"size",label:"文件大小（KB）","min-width":"125",align:"center"}}),e("el-table-column",{attrs:{prop:"staffName",label:"上传者","min-width":"125",align:"center"}}),e("el-table-column",{attrs:{prop:"createTime",label:"上传时间","min-width":"150",align:"center"}}),e("el-table-column",{attrs:{prop:"remark",label:"备注","min-width":"200",align:"center"}}),e("el-table-column",{attrs:{label:"操作",width:"360",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleEdit(a.row)}}},[t._v(" 编辑")]),e("el-popconfirm",{staticStyle:{"margin-left":"10px","margin-right":"10px"},attrs:{"confirm-button-text":"确定","cancel-button-text":"我再想想",title:"你确定删除吗？"},on:{confirm:function(e){return t.handleDelete(a.row.id)}}},[e("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[t._v(" 删除")])],1),e("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.download(a.row.name)}}},[t._v(" 下载")])]}}])})],1),e("el-pagination",{staticClass:"pager",attrs:{layout:"total,sizes,prev,pager,next,jumper","page-size":t.table.pageConfig.size?t.table.pageConfig.size:10,"page-sizes":[5,10,15,20],total:t.table.pageConfig.total,"current-page":t.table.pageConfig.current},on:{"update:currentPage":function(e){return t.$set(t.table.pageConfig,"current",e)},"update:current-page":function(e){return t.$set(t.table.pageConfig,"current",e)},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},o=[],i=a("9e9e"),n=a("2f62"),l={name:"Docs",data(){return{editForm:{isShow:!1,formData:{}},searchForm:{formData:{}},table:{tableData:[],pageConfig:{total:10,current:1,size:10}},ids:[]}},computed:{...Object(n["b"])("token",["token"]),headers(){return{token:this.token}},importApi(){return Object(i["f"])()},uploadApi(){return Object(i["h"])()}},methods:{handleDelete(t){Object(i["b"])(t).then(t=>{200===t.code?(this.$message.success("删除成功！"),this.loading()):this.$message.error("删除失败！")})},handleDeleteBatch(){Object(i["a"])(this.ids).then(t=>{200===t.code?(this.$message.success("批量删除成功！"),this.loading()):this.$message.error("批量删除失败！")})},handleEdit(t){this.editForm.isShow=!0,this.editForm.formData=t},confirmEdit(){Object(i["c"])(this.editForm.formData).then(t=>{200===t.code?(this.$message.success("修改成功！"),this.editForm.isShow=!1,this.loading()):this.$message.error("修改失败！")})},search(){this.loading()},reset(){this.searchForm.formData={},this.loading()},handleSizeChange(t){this.table.pageConfig.size=t,this.loading()},handleCurrentChange(t){this.table.pageConfig.current=t,this.loading()},handleSelectionChange(t){this.ids=t.map(t=>t.id)},loading(){Object(i["g"])({current:this.table.pageConfig.current,size:this.table.pageConfig.size,oldName:this.searchForm.formData.oldName,staffName:this.searchForm.formData.staffName}).then(t=>{200===t.code?(this.table.tableData=t.data.list,this.table.pageConfig.total=t.data.total):this.$message.error(t.message)})},exportData(){window.open(Object(i["e"])())},handleImportSuccess(t){200===t.code?(this.$message.success("数据导入成功！"),this.loading()):this.$message.error("数据导入失败！")},handleUploadSuccess(t){200===t.code?(this.loading(),this.$message.success("文件上传成功！")):this.$message.error("文件上传失败！")},download(t){window.open(Object(i["d"])()+t)}},created(){this.loading()}},s=l,c=a("2877"),d=Object(c["a"])(s,r,o,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-b8b0787a.209f0b65.js.map