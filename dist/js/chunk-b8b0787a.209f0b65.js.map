{"version":3,"sources":["webpack:///./src/api/docs.js","webpack:///./src/views/system/docs/index.vue","webpack:///src/views/system/docs/index.vue","webpack:///./src/views/system/docs/index.vue?49bc","webpack:///./src/views/system/docs/index.vue?7e83"],"names":["url","deleteOne","id","request","method","deleteBatch","ids","edit","data","getList","params","getImportApi","getExportApi","getUploadApi","getDownloadApi","render","_vm","this","_c","_self","staticClass","attrs","editForm","isShow","on","$event","$set","formData","staticStyle","minRows","maxRows","model","value","remark","callback","$$v","trim","expression","slot","_v","confirmEdit","importApi","headers","handleImportSuccess","exportData","uploadApi","handleUploadSuccess","handleDeleteBatch","search","reset","searchForm","oldName","staffName","table","tableData","background","color","textAlign","fontWeight","borderWidth","handleSelectionChange","scopedSlots","_u","key","fn","scope","handleEdit","row","handleDelete","download","name","pageConfig","size","total","current","handleSizeChange","handleCurrentChange","staticRenderFns","computed","mapState","token","methods","then","response","code","$message","success","loading","error","list","map","item","message","window","open","created","component"],"mappings":"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","file":"js/chunk-b8b0787a.209f0b65.js","sourcesContent":["import request from '../utils/request'\n\nconst url = '/docs'\n/**\n * 添加\n * @param data\n * @returns {AxiosPromise}\n */\nexport const add = (data) => {\n  return request({\n    url: url,\n    method: 'post',\n    data\n  })\n}\n\n/**\n * 逻辑删除\n * @param id\n * @returns {AxiosPromise}\n */\nexport const deleteOne = (id) => {\n  return request({\n    url: url + '/' + id,\n    method: 'delete'\n  })\n}\n\nexport const deleteBatch = (ids) => {\n  return request({\n    url: url + '/batch/' + ids,\n    method: 'delete'\n  })\n}\n\nexport const edit = (data) => {\n  return request({\n    url: url,\n    method: 'put',\n    data\n  })\n}\n\nexport const getList = (params) => {\n  return request({\n    url: url,\n    method: 'get',\n    params\n  })\n}\n\n// 数据导入\nexport const getImportApi = () => {\n  return 'http://localhost:' + process.env.VUE_APP_PORT + url + '/import'\n}\n\n// 数据导出\nexport const getExportApi = () => {\n  return 'http://localhost:' + process.env.VUE_APP_PORT + url + '/export'\n}\n\n// 文件上传\nexport const getUploadApi = () => {\n  return 'http://localhost:' + process.env.VUE_APP_PORT + url + '/upload'\n}\n\n// 文件下载\nexport const getDownloadApi = () => {\n  return 'http://localhost:' + process.env.VUE_APP_PORT + url + '/download/'\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"manage\"},[_c('el-dialog',{attrs:{\"title\":\"编辑\",\"visible\":_vm.editForm.isShow},on:{\"update:visible\":function($event){return _vm.$set(_vm.editForm, \"isShow\", $event)}}},[_c('el-form',{attrs:{\"label-width\":\"100px\",\"model\":_vm.editForm.formData}},[_c('el-form-item',{staticStyle:{\"width\":\"450px\"},attrs:{\"label\":\"备注\",\"label-width\":\"140px\",\"prop\":\"remark\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入\",\"autosize\":{ minRows: 2, maxRows: 4 },\"maxlength\":\"100\",\"show-word-limit\":\"\"},model:{value:(_vm.editForm.formData.remark),callback:function ($$v) {_vm.$set(_vm.editForm.formData, \"remark\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"editForm.formData.remark\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editForm.isShow = false}}},[_vm._v(\" 取消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirmEdit}},[_vm._v(\" 确定\")])],1)],1),_c('div',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-upload',{staticStyle:{\"display\":\"inline-block\"},attrs:{\"action\":_vm.importApi,\"headers\":_vm.headers,\"accept\":\"xlsx\",\"show-file-list\":false,\"multiple\":false,\"on-success\":_vm.handleImportSuccess}},[_c('el-button',{attrs:{\"type\":\"success\"}},[_vm._v(\" 导入 \")])],1),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"warning\"},on:{\"click\":_vm.exportData}},[_vm._v(\" 导出 \")]),_c('el-upload',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"10px\"},attrs:{\"action\":_vm.uploadApi,\"headers\":_vm.headers,\"accept\":\"*/*\",\"multiple\":false,\"show-file-list\":false,\"on-success\":_vm.handleUploadSuccess,\"limit\":1}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_vm._v(\" 上传 \")])],1),_c('el-popconfirm',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"confirm-button-text\":\"确定\",\"cancel-button-text\":\"我再想想\",\"title\":\"你确定删除吗？\"},on:{\"confirm\":_vm.handleDeleteBatch}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\" 批量删除 \")])],1),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.search}},[_vm._v(\" 搜索\")]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.reset}},[_vm._v(\" 重置\")])],1),_c('div',{staticClass:\"manage-header\"},[_c('el-form',{attrs:{\"label-width\":\"auto\",\"model\":_vm.searchForm.formData,\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"原名称\",\"prop\":\"oldName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入文件原名称\",\"prefix-icon\":\"el-icon-search\"},model:{value:(_vm.searchForm.formData.oldName),callback:function ($$v) {_vm.$set(_vm.searchForm.formData, \"oldName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchForm.formData.oldName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"上传者\",\"prop\":\"staffName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入上传者\",\"prefix-icon\":\"el-icon-search\"},model:{value:(_vm.searchForm.formData.staffName),callback:function ($$v) {_vm.$set(_vm.searchForm.formData, \"staffName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchForm.formData.staffName\"}})],1)],1)],1),_c('div',{staticClass:\"common-table\"},[_c('el-table',{attrs:{\"data\":_vm.table.tableData,\"height\":\"85%\",\"border\":\"\",\"stripe\":\"\",\"row-key\":\"id\",\"fit\":\"\",\"header-cell-style\":{\n    background: '#eef1f6', color: '#606266',\n    textAlign: 'center', fontWeight: 'bold', borderWidth: '3px'\n  }},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"50\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"文件名\",\"min-width\":\"180\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"类型\",\"min-width\":\"125\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"oldName\",\"label\":\"文件原名称\",\"min-width\":\"150\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"size\",\"label\":\"文件大小（KB）\",\"min-width\":\"125\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"staffName\",\"label\":\"上传者\",\"min-width\":\"125\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"上传时间\",\"min-width\":\"150\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"备注\",\"min-width\":\"200\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"360\",\"fixed\":\"right\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\" 编辑\")]),_c('el-popconfirm',{staticStyle:{\"margin-left\":\"10px\",\"margin-right\":\"10px\"},attrs:{\"confirm-button-text\":\"确定\",\"cancel-button-text\":\"我再想想\",\"title\":\"你确定删除吗？\"},on:{\"confirm\":function($event){return _vm.handleDelete(scope.row.id)}}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"danger\"},slot:\"reference\"},[_vm._v(\" 删除\")])],1),_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.download(scope.row.name)}}},[_vm._v(\" 下载\")])]}}])})],1),_c('el-pagination',{staticClass:\"pager\",attrs:{\"layout\":\"total,sizes,prev,pager,next,jumper\",\"page-size\":_vm.table.pageConfig.size ? _vm.table.pageConfig.size : 10,\"page-sizes\":[5, 10, 15, 20],\"total\":_vm.table.pageConfig.total,\"current-page\":_vm.table.pageConfig.current},on:{\"update:currentPage\":function($event){return _vm.$set(_vm.table.pageConfig, \"current\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.table.pageConfig, \"current\", $event)},\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"manage\">\n    <el-dialog title=\"编辑\" :visible.sync=\"editForm.isShow\">\n      <el-form label-width=\"100px\" :model=\"editForm.formData\">\n        <el-form-item label=\"备注\" label-width=\"140px\" style=\"width:450px\" prop=\"remark\">\n          <el-input type=\"textarea\" placeholder=\"请输入\" v-model.trim=\"editForm.formData.remark\"\n            :autosize=\"{ minRows: 2, maxRows: 4 }\" maxlength=\"100\" show-word-limit />\n        </el-form-item>\n      </el-form>\n\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"editForm.isShow = false\"> 取消</el-button>\n        <el-button type=\"primary\" @click=\"confirmEdit\"> 确定</el-button>\n      </div>\n    </el-dialog>\n\n    <div style=\"margin-bottom: 10px\">\n      <el-upload :action=\"importApi\" :headers=\"headers\" accept=\"xlsx\" :show-file-list=\"false\" :multiple=\"false\"\n        :on-success=\"handleImportSuccess\" style=\"display:inline-block;\">\n        <el-button type=\"success\"> 导入\n        </el-button>\n      </el-upload>\n      <el-button type=\"warning\" @click=\"exportData\" style=\"margin-left: 10px\"> 导出\n      </el-button>\n      <el-upload :action=\"uploadApi\"  :headers=\"headers\"  accept=\"*/*\"  :multiple=\"false\" :show-file-list=\"false\"\n        :on-success=\"handleUploadSuccess\" :limit=\"1\" style=\"display:inline-block;margin-left: 10px\">\n        <el-button type=\"primary\"> 上传\n        </el-button>\n      </el-upload>\n      <el-popconfirm style=\"margin-left: 10px\" confirm-button-text='确定' cancel-button-text='我再想想' title=\"你确定删除吗？\"\n        @confirm=\"handleDeleteBatch\">\n        <el-button type=\"danger\" slot=\"reference\"> 批量删除\n        </el-button>\n      </el-popconfirm>\n      <el-button type=\"primary\" @click=\"search\" style=\"margin-left: 10px\"> 搜索</el-button>\n      <el-button type=\"danger\" @click=\"reset\"> 重置</el-button>\n\n    </div>\n\n    <!------------- 搜索 ---------------------->\n    <div class=\"manage-header\">\n      <el-form label-width=\"auto\" :model=\"searchForm.formData\" :inline=\"true\">\n        <el-form-item label=\"原名称\" prop=\"oldName\">\n          <el-input placeholder=\"请输入文件原名称\" v-model.trim=\"searchForm.formData.oldName\" prefix-icon=\"el-icon-search\" />\n        </el-form-item>\n        <el-form-item label=\"上传者\" prop=\"staffName\">\n          <el-input placeholder=\"请输入上传者\" v-model.trim=\"searchForm.formData.staffName\" prefix-icon=\"el-icon-search\" />\n        </el-form-item>\n      </el-form>\n    </div>\n    <!------------------ 数据表格 ---------------->\n    <div class=\"common-table\">\n      <el-table :data=\"table.tableData\" height=\"85%\" border stripe row-key=\"id\" fit :header-cell-style=\"{\n      background: '#eef1f6', color: '#606266',\n      textAlign: 'center', fontWeight: 'bold', borderWidth: '3px'\n    }\" @selection-change=\"handleSelectionChange\">\n        <el-table-column type=\"selection\" width=\"50\" align=\"center\" />\n        <el-table-column prop=\"name\" label=\"文件名\" min-width=\"180\" align=\"center\" />\n        <el-table-column prop=\"type\" label=\"类型\" min-width=\"125\" align=\"center\" />\n        <el-table-column prop=\"oldName\" label=\"文件原名称\" min-width=\"150\" align=\"center\" />\n        <el-table-column prop=\"size\" label=\"文件大小（KB）\" min-width=\"125\" align=\"center\" />\n        <el-table-column prop=\"staffName\" label=\"上传者\" min-width=\"125\" align=\"center\" />\n        <el-table-column prop=\"createTime\" label=\"上传时间\" min-width=\"150\" align=\"center\" />\n        <el-table-column prop=\"remark\" label=\"备注\" min-width=\"200\" align=\"center\" />\n        <el-table-column label=\"操作\" width=\"360\" fixed=\"right\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"primary\" @click=\"handleEdit(scope.row)\"> 编辑</el-button>\n            <el-popconfirm style=\"margin-left:10px;margin-right:10px\" confirm-button-text='确定' cancel-button-text='我再想想'\n              title=\"你确定删除吗？\" @confirm=\"handleDelete(scope.row.id)\">\n              <el-button type=\"danger\" slot=\"reference\"> 删除</el-button>\n            </el-popconfirm>\n            <el-button type=\"warning\" @click=\"download(scope.row.name)\"> 下载</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination class=\"pager\" layout=\"total,sizes,prev,pager,next,jumper\"\n        :page-size=\"table.pageConfig.size ? table.pageConfig.size : 10\" :page-sizes=\"[5, 10, 15, 20]\"\n        :total=\"table.pageConfig.total\" :current-page.sync=\"table.pageConfig.current\" @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"></el-pagination>\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  deleteBatch,\n  deleteOne,\n  edit,\n  getDownloadApi,\n  getExportApi,\n  getImportApi,\n  getList,\n  getUploadApi\n} from '../../../api/docs'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'Docs',\n  data() {\n    return {\n      editForm: {\n        isShow: false,\n        formData: {}\n      },\n      searchForm: {\n        formData: {}\n      },\n      table: {\n        tableData: [],\n        pageConfig: {\n          total: 10, // 记录总数\n          current: 1, // 起始页\n          size: 10 // 每页展示的记录数\n        }\n      },\n      ids: []\n    }\n  },\n  computed: {\n    ...mapState('token', ['token']),\n    headers() {\n      return { token: this.token }\n    },\n    // 获取导入数据的接口\n    importApi() {\n      return getImportApi()\n    },\n    uploadApi() {\n      return getUploadApi()\n    }\n  },\n  methods: {\n    handleDelete(id) {\n      deleteOne(id).then(\n        response => {\n          if (response.code === 200) {\n            this.$message.success('删除成功！')\n            this.loading()\n          } else {\n            this.$message.error('删除失败！')\n          }\n        }\n      )\n    },\n    handleDeleteBatch() {\n      deleteBatch(this.ids).then(response => {\n        if (response.code === 200) {\n          this.$message.success('批量删除成功！')\n          this.loading()\n        } else {\n          this.$message.error('批量删除失败！')\n        }\n      })\n    },\n    handleEdit(row) {\n      this.editForm.isShow = true\n      this.editForm.formData = row\n    },\n    confirmEdit() {\n      edit(this.editForm.formData).then((response) => {\n        if (response.code === 200) {\n          this.$message.success('修改成功！')\n          this.editForm.isShow = false\n          this.loading()\n        } else {\n          this.$message.error('修改失败！')\n        }\n      })\n    },\n    search() {\n      this.loading()\n    },\n    // 重置搜索表单\n    reset() {\n      this.searchForm.formData = {}\n      this.loading()\n    },\n    handleSizeChange(size) {\n      this.table.pageConfig.size = size\n      this.loading()\n    },\n    handleCurrentChange(current) {\n      this.table.pageConfig.current = current\n      this.loading()\n    },\n    handleSelectionChange(list) {\n      this.ids = list.map(item => item.id)\n    },\n    // 将数据渲染到模板\n    loading() {\n      getList({\n        current: this.table.pageConfig.current,\n        size: this.table.pageConfig.size,\n        oldName: this.searchForm.formData.oldName,\n        staffName: this.searchForm.formData.staffName\n      }).then(response => {\n        if (response.code === 200) {\n          this.table.tableData = response.data.list\n          this.table.pageConfig.total = response.data.total\n        } else {\n          this.$message.error(response.message)\n        }\n      })\n    },\n    // 导出数据\n    exportData() {\n      window.open(getExportApi())\n    },\n    handleImportSuccess(response) {\n      if (response.code === 200) {\n        this.$message.success('数据导入成功！')\n        this.loading()\n      } else {\n        this.$message.error('数据导入失败！')\n      }\n    },\n    handleUploadSuccess(response) {\n      if (response.code === 200) {\n        this.loading()\n        this.$message.success('文件上传成功！')\n      } else {\n        this.$message.error('文件上传失败！')\n      }\n    },\n    download(name) {\n      window.open(getDownloadApi() + name)\n    }\n  },\n  created() {\n    this.loading()\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=30a61072\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}